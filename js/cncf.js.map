{"version":3,"file":"cncf.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://appointments/./src/cncf.js"],"sourcesContent":["(function () {\n  \"use strict\";\n\n  window.addEventListener('DOMContentLoaded', function () {\n    var btn = document.getElementById('srgdev-appt-cncf_action_btn');\n    var msg = \"\";\n\n    if (btn !== null) {\n      btn.addEventListener(\"click\", function (e) {\n        /** @type {HTMLElement} */\n        var t = e.currentTarget;\n        var attrName = 'data-appt-action-url';\n\n        if (t !== null && t.hasAttribute(attrName)) {\n          var uri = t.getAttribute(attrName); //Avoid double clicks\n\n          t.removeAttribute(attrName); // show spinner\n\n          document.getElementById(\"srgdev-ncfp_fbtn-spinner\").style.display = \"inline-block\";\n\n          if (window.history && window.history.replaceState) {\n            window.history.replaceState({}, '', uri);\n            window.history.go();\n          } else {\n            window.location = uri;\n          }\n        }\n      }); // embedding stuff @see /test/embedding\n\n      msg = \"appt:action_needed\";\n    } else {\n      if (typeof URL === \"function\" && window.history && window.history.replaceState) {\n        var u = new URL(window.location);\n\n        if (u.searchParams.get(\"h\") !== null) {\n          u.searchParams.delete(\"h\");\n          window.history.replaceState({}, '', u.toString());\n        }\n      } // embedding stuff @see /test/embedding\n\n\n      if (window.location.pathname.slice(-4) === \"cncf\") {\n        msg = \"appt:all_done\";\n      } else {\n        var q = window.location.search.substring(0, 6);\n\n        if (q !== \"\") {\n          if (q === \"?sts=0\") {\n            msg = \"appt:almost_done\";\n          } else if (q === \"?sts=1\" || q === \"?sts=2\") {\n            msg = \"appt:error_page\";\n          }\n        }\n      }\n    } // embedding stuff @see /test/embedding\n\n\n    if (window.parent && msg !== \"\") {\n      window.parent.postMessage(msg, \"*\");\n    }\n  });\n})();"],"names":[],"sourceRoot":""}